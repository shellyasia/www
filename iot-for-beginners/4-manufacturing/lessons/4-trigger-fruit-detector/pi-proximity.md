<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "6145a1d791731c8a9d0afd0a1bae5108",
  "translation_date": "2025-08-24T21:53:26+00:00",
  "source_file": "4-manufacturing/lessons/4-trigger-fruit-detector/pi-proximity.md",
  "language_code": "zh"
}
-->
# æ£€æµ‹æ¥è¿‘ - æ ‘è“æ´¾

åœ¨æœ¬è¯¾çš„è¿™ä¸€éƒ¨åˆ†ï¼Œä½ å°†ä¸ºæ ‘è“æ´¾æ·»åŠ ä¸€ä¸ªæ¥è¿‘ä¼ æ„Ÿå™¨ï¼Œå¹¶è¯»å–å…¶æµ‹é‡çš„è·ç¦»ã€‚

## ç¡¬ä»¶

æ ‘è“æ´¾éœ€è¦ä¸€ä¸ªæ¥è¿‘ä¼ æ„Ÿå™¨ã€‚

ä½ å°†ä½¿ç”¨çš„ä¼ æ„Ÿå™¨æ˜¯ [Grove é£è¡Œæ—¶é—´è·ç¦»ä¼ æ„Ÿå™¨](https://www.seeedstudio.com/Grove-Time-of-Flight-Distance-Sensor-VL53L0X.html)ã€‚è¯¥ä¼ æ„Ÿå™¨ä½¿ç”¨æ¿€å…‰æµ‹è·æ¨¡å—æ¥æ£€æµ‹è·ç¦»ï¼Œæµ‹é‡èŒƒå›´ä¸º 10mm åˆ° 2000mmï¼ˆ1cm - 2mï¼‰ã€‚åœ¨æ­¤èŒƒå›´å†…ï¼Œå®ƒå¯ä»¥éå¸¸å‡†ç¡®åœ°æŠ¥å‘Šè·ç¦»ï¼Œè¶…è¿‡ 1000mm çš„è·ç¦»ä¼šè¢«æŠ¥å‘Šä¸º 8109mmã€‚

æ¿€å…‰æµ‹è·ä»ªä½äºä¼ æ„Ÿå™¨èƒŒé¢ï¼Œä¸ Grove æ’åº§ç›¸å¯¹çš„ä¸€ä¾§ã€‚

è¿™æ˜¯ä¸€ä¸ª IÂ²C ä¼ æ„Ÿå™¨ã€‚

### è¿æ¥é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨

Grove é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨å¯ä»¥è¿æ¥åˆ°æ ‘è“æ´¾ã€‚

#### ä»»åŠ¡ - è¿æ¥é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨

è¿æ¥é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨ã€‚

![ä¸€ä¸ª Grove é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨](../../../../translated_images/grove-time-of-flight-sensor.d82ff2165bfded9f485de54d8d07195a6270a602696825fca19f629ddfe94e86.zh.png)

1. å°† Grove ç”µç¼†çš„ä¸€ç«¯æ’å…¥é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨ä¸Šçš„æ’åº§ã€‚ç”µç¼†åªèƒ½ä»¥ä¸€ç§æ–¹å‘æ’å…¥ã€‚

1. åœ¨æ ‘è“æ´¾æ–­ç”µçš„æƒ…å†µä¸‹ï¼Œå°† Grove ç”µç¼†çš„å¦ä¸€ç«¯è¿æ¥åˆ° Grove Base Hat ä¸Šæ ‡æœ‰ **IÂ²C** çš„æ’åº§ä¹‹ä¸€ã€‚è¿™äº›æ’åº§ä½äºåº•éƒ¨ä¸€æ’ï¼Œä¸ GPIO å¼•è„šç›¸å¯¹çš„ä¸€ç«¯ï¼Œé è¿‘æ‘„åƒå¤´ç”µç¼†æ’æ§½ã€‚

![Grove é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨è¿æ¥åˆ° IÂ²C æ’åº§](../../../../translated_images/pi-time-of-flight-sensor.58c8dc04eb3bfb57a7c3019f031433ef4d798d4d7603d565afbf6f3802840dba.zh.png)

## ç¼–ç¨‹é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨

ç°åœ¨å¯ä»¥ä¸ºæ ‘è“æ´¾ç¼–å†™ç¨‹åºï¼Œä»¥ä½¿ç”¨è¿æ¥çš„é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨ã€‚

### ä»»åŠ¡ - ç¼–ç¨‹é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨

ä¸ºè®¾å¤‡ç¼–å†™ç¨‹åºã€‚

1. å¯åŠ¨æ ‘è“æ´¾å¹¶ç­‰å¾…å…¶å¯åŠ¨å®Œæˆã€‚

1. åœ¨ VS Code ä¸­æ‰“å¼€ `fruit-quality-detector` ä»£ç ï¼Œå¯ä»¥ç›´æ¥åœ¨æ ‘è“æ´¾ä¸Šæ“ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Remote SSH æ‰©å±•è¿æ¥ã€‚

1. å®‰è£… rpi-vl53l0x Pip åŒ…ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºä¸ VL53L0X é£è¡Œæ—¶é—´è·ç¦»ä¼ æ„Ÿå™¨äº¤äº’çš„ Python åŒ…ã€‚ä½¿ç”¨ä»¥ä¸‹ pip å‘½ä»¤å®‰è£…ï¼š

    ```sh
    pip install rpi-vl53l0x
    ```

1. åœ¨è¯¥é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªåä¸º `distance-sensor.py` çš„æ–°æ–‡ä»¶ã€‚

    > ğŸ’ æ¨¡æ‹Ÿå¤šä¸ª IoT è®¾å¤‡çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ä¸ºæ¯ä¸ªè®¾å¤‡åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ Python æ–‡ä»¶ï¼Œç„¶ååŒæ—¶è¿è¡Œå®ƒä»¬ã€‚

1. å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°è¯¥æ–‡ä»¶ä¸­ï¼š

    ```python
    import time
    
    from grove.i2c import Bus
    from rpi_vl53l0x.vl53l0x import VL53L0X
    ```

    è¿™æ®µä»£ç å¯¼å…¥äº† Grove IÂ²C æ€»çº¿åº“ï¼Œä»¥åŠç”¨äº Grove é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨æ ¸å¿ƒç¡¬ä»¶çš„ä¼ æ„Ÿå™¨åº“ã€‚

1. åœ¨æ­¤ä»£ç ä¸‹æ–¹ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ä»¥è®¿é—®ä¼ æ„Ÿå™¨ï¼š

    ```python
    distance_sensor = VL53L0X(bus = Bus().bus)
    distance_sensor.begin()    
    ```

    è¿™æ®µä»£ç ä½¿ç”¨ Grove IÂ²C æ€»çº¿å£°æ˜äº†ä¸€ä¸ªè·ç¦»ä¼ æ„Ÿå™¨ï¼Œç„¶åå¯åŠ¨äº†ä¼ æ„Ÿå™¨ã€‚

1. æœ€åï¼Œæ·»åŠ ä¸€ä¸ªæ— é™å¾ªç¯ä»¥è¯»å–è·ç¦»ï¼š

    ```python
    while True:
        distance_sensor.wait_ready()
        print(f'Distance = {distance_sensor.get_distance()} mm')
        time.sleep(1)
    ```

    è¿™æ®µä»£ç ç­‰å¾…ä¼ æ„Ÿå™¨å‡†å¤‡å¥½è¯»å–å€¼ï¼Œç„¶åå°†å…¶æ‰“å°åˆ°æ§åˆ¶å°ã€‚

1. è¿è¡Œæ­¤ä»£ç ã€‚

    > ğŸ’ åˆ«å¿˜äº†è¿™ä¸ªæ–‡ä»¶åæ˜¯ `distance-sensor.py`ï¼ç¡®ä¿é€šè¿‡ Python è¿è¡Œå®ƒï¼Œè€Œä¸æ˜¯ `app.py`ã€‚

1. ä½ å°†åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°è·ç¦»æµ‹é‡å€¼ã€‚å°†ç‰©ä½“æ”¾ç½®åœ¨ä¼ æ„Ÿå™¨é™„è¿‘ï¼Œä½ ä¼šçœ‹åˆ°è·ç¦»æµ‹é‡å€¼ï¼š

    ```text
    pi@raspberrypi:~/fruit-quality-detector $ python3 distance_sensor.py 
    Distance = 29 mm
    Distance = 28 mm
    Distance = 30 mm
    Distance = 151 mm
    ```

    æµ‹è·ä»ªä½äºä¼ æ„Ÿå™¨èƒŒé¢ï¼Œå› æ­¤åœ¨æµ‹é‡è·ç¦»æ—¶è¯·ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ä¸€ä¾§ã€‚

    ![é£è¡Œæ—¶é—´ä¼ æ„Ÿå™¨èƒŒé¢çš„æµ‹è·ä»ªå¯¹å‡†ä¸€æ ¹é¦™è•‰](../../../../translated_images/time-of-flight-banana.079921ad8b1496e4525dc26b4cdc71a076407aba3e72ba113ba2e38febae92c5.zh.png)

> ğŸ’ ä½ å¯ä»¥åœ¨ [code-proximity/pi](../../../../../4-manufacturing/lessons/4-trigger-fruit-detector/code-proximity/pi) æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°è¿™æ®µä»£ç ã€‚

ğŸ˜€ ä½ çš„æ¥è¿‘ä¼ æ„Ÿå™¨ç¨‹åºè¿è¡ŒæˆåŠŸï¼
