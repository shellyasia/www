<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "66b81165e60f8f169bd52a401b6a0f8b",
  "translation_date": "2025-08-24T22:17:26+00:00",
  "source_file": "2-farm/lessons/3-automated-plant-watering/pi-relay.md",
  "language_code": "zh"
}
-->
# æ§åˆ¶ç»§ç”µå™¨ - æ ‘è“æ´¾

åœ¨æœ¬èŠ‚è¯¾ç¨‹ä¸­ï¼Œæ‚¨å°†ä¸ºæ ‘è“æ´¾æ·»åŠ ä¸€ä¸ªç»§ç”µå™¨ï¼Œé™¤äº†åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨å¤–ï¼Œè¿˜å¯ä»¥æ ¹æ®åœŸå£¤æ¹¿åº¦æ°´å¹³æ§åˆ¶ç»§ç”µå™¨ã€‚

## ç¡¬ä»¶

æ ‘è“æ´¾éœ€è¦ä¸€ä¸ªç»§ç”µå™¨ã€‚

æ‚¨å°†ä½¿ç”¨çš„ç»§ç”µå™¨æ˜¯ [Grove ç»§ç”µå™¨](https://www.seeedstudio.com/Grove-Relay.html)ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸å¼€ç»§ç”µå™¨ï¼ˆæ„å‘³ç€å½“æ²¡æœ‰ä¿¡å·å‘é€åˆ°ç»§ç”µå™¨æ—¶ï¼Œè¾“å‡ºç”µè·¯æ˜¯æ–­å¼€çš„ï¼‰ã€‚å®ƒå¯ä»¥å¤„ç†é«˜è¾¾ 250V å’Œ 10A çš„è¾“å‡ºç”µè·¯ã€‚

è¿™æ˜¯ä¸€ä¸ªæ•°å­—æ‰§è¡Œå™¨ï¼Œå› æ­¤éœ€è¦è¿æ¥åˆ° Grove Base Hat ä¸Šçš„æ•°å­—å¼•è„šã€‚

### è¿æ¥ç»§ç”µå™¨

Grove ç»§ç”µå™¨å¯ä»¥è¿æ¥åˆ°æ ‘è“æ´¾ã€‚

#### ä»»åŠ¡

è¿æ¥ç»§ç”µå™¨ã€‚

![ä¸€ä¸ª Grove ç»§ç”µå™¨](../../../../translated_images/grove-relay.d426958ca210fbd0fb7983d7edc069d46c73a8b0a099d94797bd756f7b6bb6be.zh.png)

1. å°† Grove ç”µç¼†çš„ä¸€ç«¯æ’å…¥ç»§ç”µå™¨ä¸Šçš„æ’åº§ã€‚å®ƒåªèƒ½ä»¥ä¸€ç§æ–¹å¼æ’å…¥ã€‚

1. åœ¨æ ‘è“æ´¾æ–­ç”µçš„æƒ…å†µä¸‹ï¼Œå°† Grove ç”µç¼†çš„å¦ä¸€ç«¯è¿æ¥åˆ° Grove Base Hat ä¸Šæ ‡è®°ä¸º **D5** çš„æ•°å­—æ’åº§ã€‚è¿™ä¸ªæ’åº§ä½äº GPIO å¼•è„šæ—è¾¹çš„ä¸€æ’æ’åº§ä¸­ï¼Œä»å·¦æ•°ç¬¬äºŒä¸ªã€‚ä¿æŒåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨è¿æ¥åˆ° **A0** æ’åº§ã€‚

![Grove ç»§ç”µå™¨è¿æ¥åˆ° D5 æ’åº§ï¼ŒåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨è¿æ¥åˆ° A0 æ’åº§](../../../../translated_images/pi-relay-and-soil-moisture-sensor.02f3198975b8c53e69ec716cd2719ce117700bd1fc933eaf93476c103c57939b.zh.png)

1. å¦‚æœåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨è¿˜æ²¡æœ‰æ’å…¥åœŸå£¤ï¼Œè¯·å°†å…¶æ’å…¥åœŸå£¤ä¸­ï¼ˆå¦‚æœæ‚¨åœ¨ä¸Šä¸€èŠ‚è¯¾ç¨‹ä¸­å·²ç»æ’å…¥ï¼Œåˆ™æ— éœ€é‡å¤æ“ä½œï¼‰ã€‚

## ç¼–ç¨‹ç»§ç”µå™¨

ç°åœ¨å¯ä»¥ä¸ºæ ‘è“æ´¾ç¼–ç¨‹ä»¥ä½¿ç”¨è¿æ¥çš„ç»§ç”µå™¨ã€‚

### ä»»åŠ¡

ç¼–ç¨‹è®¾å¤‡ã€‚

1. å¯åŠ¨æ ‘è“æ´¾å¹¶ç­‰å¾…å…¶å¯åŠ¨å®Œæˆã€‚

1. åœ¨ VS Code ä¸­æ‰“å¼€ä¸Šä¸€èŠ‚è¯¾ç¨‹ä¸­çš„ `soil-moisture-sensor` é¡¹ç›®ï¼ˆå¦‚æœå°šæœªæ‰“å¼€ï¼‰ã€‚æ‚¨å°†åœ¨æ­¤é¡¹ç›®ä¸­è¿›è¡Œæ·»åŠ ã€‚

1. åœ¨ç°æœ‰çš„å¯¼å…¥è¯­å¥ä¸‹ï¼Œå‘ `app.py` æ–‡ä»¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

    ```python
    from grove.grove_relay import GroveRelay
    ```

    è¿™æ¡è¯­å¥ä» Grove Python åº“ä¸­å¯¼å…¥ `GroveRelay`ï¼Œä»¥ä¾¿ä¸ Grove ç»§ç”µå™¨äº¤äº’ã€‚

1. åœ¨ `ADC` ç±»çš„å£°æ˜ä¸‹æ–¹æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä»¥åˆ›å»ºä¸€ä¸ª `GroveRelay` å®ä¾‹ï¼š

    ```python
    relay = GroveRelay(5)
    ```

    è¿™å°†åœ¨æ‚¨è¿æ¥ç»§ç”µå™¨çš„æ•°å­—å¼•è„š **D5** ä¸Šåˆ›å»ºä¸€ä¸ªç»§ç”µå™¨ã€‚

1. ä¸ºäº†æµ‹è¯•ç»§ç”µå™¨æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œåœ¨ `while True:` å¾ªç¯ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

    ```python
    relay.on()
    time.sleep(.5)
    relay.off()
    ```

    è¿™æ®µä»£ç ä¼šæ‰“å¼€ç»§ç”µå™¨ï¼Œç­‰å¾… 0.5 ç§’ï¼Œç„¶åå…³é—­ç»§ç”µå™¨ã€‚

1. è¿è¡Œ Python åº”ç”¨ç¨‹åºã€‚ç»§ç”µå™¨å°†æ¯ 10 ç§’æ‰“å¼€å’Œå…³é—­ä¸€æ¬¡ï¼Œæ¯æ¬¡æ‰“å¼€å’Œå…³é—­ä¹‹é—´æœ‰ 0.5 ç§’çš„å»¶è¿Ÿã€‚æ‚¨ä¼šå¬åˆ°ç»§ç”µå™¨ç‚¹å‡»æ‰“å¼€ç„¶åç‚¹å‡»å…³é—­ã€‚å½“ç»§ç”µå™¨æ‰“å¼€æ—¶ï¼ŒGrove æ¿ä¸Šçš„ LED ä¼šäº®èµ·ï¼Œå½“ç»§ç”µå™¨å…³é—­æ—¶ï¼ŒLED ä¼šç†„ç­ã€‚


## æ ¹æ®åœŸå£¤æ¹¿åº¦æ§åˆ¶ç»§ç”µå™¨

ç°åœ¨ç»§ç”µå™¨å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œå¯ä»¥æ ¹æ®åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨çš„è¯»æ•°æ¥æ§åˆ¶å®ƒã€‚

### ä»»åŠ¡

æ§åˆ¶ç»§ç”µå™¨ã€‚

1. åˆ é™¤æ‚¨æ·»åŠ çš„ç”¨äºæµ‹è¯•ç»§ç”µå™¨çš„ 3 è¡Œä»£ç ã€‚ç”¨ä»¥ä¸‹ä»£ç æ›¿æ¢å®ƒä»¬ï¼š

    ```python
    if soil_moisture > 450:
        print("Soil Moisture is too low, turning relay on.")
        relay.on()
    else:
        print("Soil Moisture is ok, turning relay off.")
        relay.off()
    ```

    è¿™æ®µä»£ç ä¼šä»åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨è¯»å–åœŸå£¤æ¹¿åº¦æ°´å¹³ã€‚å¦‚æœæ¹¿åº¦å€¼é«˜äº 450ï¼Œåˆ™æ‰“å¼€ç»§ç”µå™¨ï¼›å¦‚æœä½äº 450ï¼Œåˆ™å…³é—­ç»§ç”µå™¨ã€‚

    > ğŸ’ è¯·è®°ä½ï¼Œç”µå®¹å¼åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨çš„è¯»æ•°è¶Šä½ï¼ŒåœŸå£¤ä¸­çš„æ¹¿åº¦è¶Šé«˜ï¼Œåä¹‹äº¦ç„¶ã€‚

1. è¿è¡Œ Python åº”ç”¨ç¨‹åºã€‚æ‚¨ä¼šçœ‹åˆ°ç»§ç”µå™¨æ ¹æ®åœŸå£¤æ¹¿åº¦æ°´å¹³æ‰“å¼€æˆ–å…³é—­ã€‚å°è¯•åœ¨å¹²ç‡¥çš„åœŸå£¤ä¸­æµ‹è¯•ï¼Œç„¶ååŠ æ°´ã€‚

    ```text
    Soil Moisture: 638
    Soil Moisture is too low, turning relay on.
    Soil Moisture: 452
    Soil Moisture is too low, turning relay on.
    Soil Moisture: 347
    Soil Moisture is ok, turning relay off.
    ```

> ğŸ’ æ‚¨å¯ä»¥åœ¨ [code-relay/pi](../../../../../2-farm/lessons/3-automated-plant-watering/code-relay/pi) æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°è¿™æ®µä»£ç ã€‚

ğŸ˜€ æ­å–œï¼æ‚¨çš„åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨æˆåŠŸæ§åˆ¶äº†ç»§ç”µå™¨ï¼
